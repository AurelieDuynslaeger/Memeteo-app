
const App = () => {
  const [currentWeather, setCurrentWeather] = useState({});
  const [forecastWeather, setForecastWeather] = useState({});
  const [forecastWeather7, setForecastWeather7] = useState({});
  const [weatherInput, setWeatherInput] = useState('');

  const fetchData = async (endpoint, days) => {
    const defaultCity = 'Lille';
    const queryCity = weatherInput || defaultCity;
    const apiUrl = `http://api.weatherapi.com/${endpoint}.json?key=5929e663f6c74ae192890247240802&q=${queryCity}&days=${days}&aqi=yes&alerts=yes&lang=fr`;
    const response = await fetch(apiUrl);
    return response.json();
  };

  useEffect(() => {
    const fetchWeatherData = async () => {
      const currentWeatherData = await fetchData('v1/current', 1);
      setCurrentWeather(currentWeatherData);

      const forecastWeatherData24h = await fetchData('v1/forecast', 1);
      setForecastWeather(forecastWeatherData24h);

      const forecastWeatherData7days = await fetchData('v1/forecast', 7);
      setForecastWeather7(forecastWeatherData7days);
    };

    fetchWeatherData();
  }, [weatherInput]);

  return (
    <div>
      {/* Votre code JSX ici */}
    </div>
  );
};

export default App;
